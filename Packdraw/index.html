<!DOCTYPE html>
<html lang="en" style="--theme-primary:#2563eb;
--theme-primary-dark:#1d4ed8;
--theme-accent:#22c55e;
--theme-accent-dark:#16a34a;
--theme-primary-glow:rgba(37, 99, 235, 0.6);
--theme-bg-slate:#0a0f1f;
--theme-bg-slate-light:#121a2f">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
    <title>Packdraw Leaderboard</title>
    <meta name="description" content="Earn rewards through wagering with Waki23 on Packdraw."/>
    <link rel="icon" href="https://waki-rewards.site/icon.jpg">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
     
        html, body {
            width: 100%;
            min-height: 100vh;
            overflow-x: hidden;
        }
     
        body {
            background-color: var(--theme-bg-slate);
            background-image:
                radial-gradient(circle at 50% 50%, rgba(var(--theme-primary-rgb),0.25)
, transparent 50%),
                radial-gradient(circle at 20% 80%, rgba(255, 199, 0, 0.2), transparent 60%),
                radial-gradient(circle at 80% 20%, rgba(168, 85, 247, 0.15), transparent 50%),
                linear-gradient(to bottom, rgba(18, 18, 31, 0.95), var(--theme-bg-slate));
            color: #fff;
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            position: relative;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-y: auto;
        }
      /* ===== DEFAULT (BLUE THEME) ===== */
body{
    --theme-primary:#2563eb;
    --theme-primary-dark:#1d4ed8;
    --theme-accent:#22c55e;
    --theme-accent-dark:#16a34a;

    --theme-primary-rgb:37,99,235;
    --theme-accent-rgb:34,197,94;

    --theme-primary-glow:rgba(var(--theme-primary-rgb),0.6);
    --theme-bg-slate:#0a0f1f;
    --theme-bg-slate-light:#121a2f;
}


/* ===== LIGHT THEME ===== */
body.light-theme{
    --theme-primary:#10b981;
    --theme-primary-dark:#059669;
    --theme-accent:#22c55e;
    --theme-accent-dark:#16a34a;
    --theme-primary-glow:rgba(16,185,129,0.6);
    --theme-bg-slate:#f0fdf4;
    --theme-bg-slate-light:#ffffff;
}

/* ===== BLUE THEME ===== */
body.blue-theme{
    --theme-primary:#2563eb;
    --theme-primary-dark:#1d4ed8;
    --theme-accent:#22c55e;
    --theme-accent-dark:#16a34a;
    --theme-primary-glow:rgba(37,99,235,0.6);
}

/* ===== RED THEME ===== */
body.red-theme{
    --theme-primary:#ef4444;
    --theme-primary-dark:#dc2626;
    --theme-accent:#f59e0b;
    --theme-accent-dark:#d97706;
    --theme-primary-glow:rgba(239,68,68,0.6);
}

/* ===== PURPLE THEME ===== */
body.purple-theme{
    --theme-primary:#a855f7;
    --theme-primary-dark:#9333ea;
    --theme-accent:#FFC700;
    --theme-accent-dark:#E5B200;
    --theme-primary-glow:rgba(168,85,247,0.6);
}

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"%3E%3Ccircle cx="10" cy="10" r="1.5" fill="%23ffffff" opacity="0.15"/%3E%3Ccircle cx="90" cy="20" r="0.8" fill="%23ffffff" opacity="0.1"/%3E%3Ccircle cx="50" cy="80" r="1" fill="%23ffffff" opacity="0.12"/%3E%3Ccircle cx="30" cy="50" r="1.5" fill="%23ffffff" opacity="0.18"/%3E%3Ccircle cx="70" cy="40" r="1" fill="%23ffffff" opacity="0.15"/%3E%3Ccircle cx="15" cy="85" r="1.2" fill="%23ffffff" opacity="0.1"/%3E%3Ccircle cx="85" cy="15" r="1.4" fill="%23ffffff" opacity="0.14"/%3E%3Ccircle cx="40" cy="20" r="0.6" fill="%23ffffff" opacity="0.08"/%3E%3Ccircle cx="60" cy="70" r="0.9" fill="%23ffffff" opacity="0.11"/%3E%3C/svg%3E') repeat;
            background-size: 200px 200px;
            opacity: 0.1;
            z-index: -1;
            animation: twinkle 3s infinite alternate ease-in-out;
        }
        body.light-theme::before {
            display: none;
        }
        body::after {
            content: '';
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(168, 85, 247, 0.08) 0%, transparent 70%);
            animation: pulse 8s infinite alternate ease-in-out;
            z-index: -2;
        }
     
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
            width: 100%;
            box-sizing: border-box;
        }
     
        /* Navigation */
        nav {
            background-color: var(--theme-bg-slate-light);
            padding: 12px 0;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s ease;
            backdrop-filter: blur(10px);
        }
        nav:hover {
            background-color: rgba(18, 18, 31, 0.95);
        }
        body.light-theme nav {
            background-color: #fff;
        }
        body.light-theme nav:hover {
            background-color: #f8f9fa;
        }
     
        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }
     
        .nav-left .platform-selector {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .nav-left .platform-selector:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px var(--theme-primary-glow);
        }
     
        .platform-logo {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--theme-primary), var(--theme-primary-dark));
            box-shadow: 0 0 10px var(--theme-primary-glow);
            background-image: url("https://waki-rewards.site/icon.jpg");
             background-size: contain; 
        }
     
        .platform-name {
            font-weight: 500;
            font-size: 14px;
        }
     
        .hamburger {
            display: none;
            flex-direction: column;
            justify-content: space-around;
            width: 30px;
            height: 25px;
            cursor: pointer;
            padding: 0;
            background: none;
            border: none;
            z-index: 1001;
        }
        .hamburger span {
            width: 100%;
            height: 3px;
            background: white;
            transition: all 0.3s ease;
            border-radius: 3px;
        }
        body.light-theme .hamburger span {
            background: black;
        }
        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }
        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }
        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }
        .nav-menu {
            display: flex;
            gap: 10px;
        }
        .nav-menu.active {
            display: flex !important;
        }
        .nav-btn {
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 500;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 6px;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            white-space: nowrap;
            justify-content: center;
           
        }
     
        .btn-primary {
            background: linear-gradient(180deg, var(--theme-primary) 0%, var(--theme-primary-dark) 100%);
            color: white;
            border: none;
        }
        .btn-primary:hover {
            box-shadow: 0 0 15px var(--theme-primary-glow);
            transform: scale(1.05);
        }
     
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: var(--theme-primary);
            color: var(--theme-primary);
        }
     
        /* Main Content */
        main {
            padding-top: 70px;
            flex: 1;
            width: 100%;
        }
     
        /* Countdown */
        .countdown-section {
            text-align: center;
            padding: 30px 0;
            background: linear-gradient(to bottom, rgba(168, 85, 247, 0.05), transparent);
            border-radius: 16px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }
     
        .countdown-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
     
        .countdown-item {
            background: var(--theme-bg-slate-light);
            border: 1px solid var(--theme-primary-glow);
            border-radius: 8px;
            padding: 12px 15px;
            min-width: 65px;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .countdown-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(168, 85, 247, 0.4);
        }
     
        .countdown-number {
            font-size: 28px;
            font-weight: bold;
            color: var(--theme-primary);
            text-shadow: 0 0 5px var(--theme-primary-glow);
        }
     
        .countdown-label {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.7);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
     
        /* Title */
        .main-title {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 25px;
            text-shadow: 0 2px 10px var(--theme-primary-glow);
            line-height: 1.2;
        }
     
        .main-title span {
            color: var(--theme-primary);
            background: linear-gradient(90deg, var(--theme-primary), var(--theme-accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
     
        /* Fixed Podium Section */
        .podium-section {
            margin: 40px 0;
            position: relative;
            width: 100%;
            padding: 20px 0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }
        .podium-section::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--theme-primary), transparent);
        }
     
        .podium-container {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 20px;
            max-width: 1100px;
            margin: 0 auto;
            flex-wrap: nowrap;
            min-height: 300px;
            position: relative;
        }
        .podium-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative;
            transition: all 0.3s ease;
            z-index: 1;
            flex: 0 1 33%;
            max-width: 33%;
            will-change: transform, opacity;
            animation: podiumEnter 0.8s ease-out forwards;
            opacity: 0;
            min-height: 400px;
            height: auto;
        }
        .podium-item:hover {
            transform: translateY(-10px) scale(1.02);
            z-index: 2;
            box-shadow: 0 10px 30px rgba(168, 85, 247, 0.3);
        }
        .podium-second {
            animation-delay: 0.2s;
            order: 1;
        }
        .podium-first {
            animation-delay: 0.4s;
            order: 2;
        }
        .podium-third {
            animation-delay: 0.6s;
            order: 3;
        }
        @keyframes podiumEnter {
            0% {
                transform: translateY(50px);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }
        @media (prefers-reduced-motion: reduce) {
            .podium-item {
                animation: none;
                opacity: 1;
            }
        }
        .podium-card {
            background: linear-gradient(145deg, rgba(26, 26, 46, 0.95), rgba(18, 18, 31, 0.98));
            border-radius: 20px;
            padding: 20px;
            border: 2px solid rgba(168, 85, 247, 0.4);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
            position: relative;
            overflow: hidden;
            animation: float 6s ease-in-out infinite;
            width: 100%;
            flex: 1 1 auto;
            min-height: 350px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            backdrop-filter: blur(10px);
            z-index: 2;
        }
        body.light-theme .podium-card {
            background: linear-gradient(145deg, #ffffff, #f8f9fa);
            border-color: rgba(168, 85, 247, 0.2);
        }
        .podium-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, transparent, var(--theme-primary), transparent);
            animation: slideGlow 3s infinite linear;
        }
        .podium-platform {
            position: relative;
            width: 100%;
            border-radius: 0 0 20px 20px;
            z-index: 1;
            flex: 0 0 auto;
            overflow: hidden;
        }
        .podium-platform-content {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0 0 20px 20px;
            transition: height 0.3s ease;
        }
        .podium-second .podium-platform {
            height: 60px;
        }
        .podium-second .podium-platform-content {
            background: linear-gradient(180deg, rgba(192, 192, 192, 0.3), rgba(192, 192, 192, 0.1));
        }
        .podium-first .podium-platform {
            height: 120px;
        }
        .podium-first .podium-platform-content {
            background: linear-gradient(180deg, rgba(255, 215, 0, 0.3), rgba(255, 215, 0, 0.1));
        }
        .podium-third .podium-platform {
            height: 30px;
        }
        .podium-third .podium-platform-content {
            background: linear-gradient(180deg, rgba(205, 127, 50, 0.3), rgba(205, 127, 50, 0.1));
        }
        .podium-item::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 120%;
            height: 30px;
            background: linear-gradient(to top, rgba(168, 85, 247, 0.2), transparent);
            border-radius: 50%;
            filter: blur(10px);
            z-index: 0;
        }
        .podium-first::after {
            background: linear-gradient(to top, rgba(255, 215, 0, 0.3), transparent);
            width: 140%;
        }
        .podium-second::after {
            background: linear-gradient(to top, rgba(192, 192, 192, 0.2), transparent);
        }
        .podium-third::after {
            background: linear-gradient(to top, rgba(205, 127, 50, 0.2), transparent);
        }
        /* Rank Badge */
        .rank-badge {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 50px;
            font-weight: bold;
            font-size: 24px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
            z-index: 3;
            border: 3px solid white;
            animation: badgePulse 2s infinite alternate;
        }
        .podium-first .rank-badge {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #000;
            width: 60px;
            height: 60px;
            font-size: 28px;
            border-color: gold;
            top: -30px;
            animation: badgePulseGold 1.5s infinite alternate;
        }
        .podium-second .rank-badge {
            background: linear-gradient(135deg, #C0C0C0, #808080);
            color: #000;
            border-color: silver;
        }
        .podium-third .rank-badge {
            background: linear-gradient(135deg, #CD7F32, #8B4513);
            color: #000;
            border-color: #CD7F32;
        }
        /* Player Name */
        .player-name {
            font-size: clamp(18px, 5vw, 24px);
            font-weight: 700;
            margin-bottom: 5px;
            margin-top: 30px;
            color: white;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            letter-spacing: 1px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: 100%;
            padding-top: 30px; /* Space for badge */
        }
        body.light-theme .player-name {
            color: black;
            text-shadow: none;
        }
        .podium-first .player-name {
            font-size: clamp(20px, 5.5vw, 28px);
            color: #FFD700;
            text-shadow: 0 2px 10px rgba(255, 215, 0, 0.5);
        }
        .podium-second .player-name {
            color: #C0C0C0;
        }
        .podium-third .player-name {
            color: #CD7F32;
        }
        @media (min-width: 1280px) {
    .player-name {
        margin-top: 80px;
    }
}
        /* Wagered Label */
        .wagered-label {
            font-size: clamp(10px, 3vw, 12px);
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 5px;
            margin-top: 3px;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 500;
        }
        body.light-theme .wagered-label {
            color: rgba(0, 0, 0, 0.7);
        }
        @media (min-width: 1280px) {
    .wagered-label {
        margin-top: 30px;
    }
}
        /* Wagered Amount */
        .wagered-amount {
    font-size: clamp(22px, 6vw, 32px);
    font-weight: 800;
    color: white;
    margin-bottom: 20px;
    margin-top: 3px;
    text-shadow: 0 2px 15px var(--theme-primary-glow);
    overflow: visible;
    white-space: normal;
    word-break: break-word;
    max-width: 100%;
}

        body.light-theme .wagered-amount {
            color: black;
        }
        .podium-first .wagered-amount {
            font-size: clamp(24px, 6.5vw, 36px);
            color: #FFD700;
            text-shadow: 0 2px 15px rgba(255, 215, 0, 0.5);
        }
        .podium-second .wagered-amount {
            color: #C0C0C0;
        }
        .podium-third .wagered-amount {
            color: #CD7F32;
        }
        @media (min-width: 1280px) {
    .wagered-amount {
        margin-top: 30px;
    }
}
        /* Prize Box - Moved to bottom */
        .prize-box {
            background: rgba(168, 85, 247, 0.2);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: 700;
            color: var(--theme-primary);
            transition: all 0.3s ease;
            border: 2px solid rgba(168, 85, 247, 0.4);
            margin-top: auto;
            position: relative;
            overflow: hidden;
        }
        .prize-box:hover {
            background: rgba(168, 85, 247, 0.4);
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(168, 85, 247, 0.4);
        }
        .podium-first .prize-box {
            background: rgba(255, 215, 0, 0.2);
            border-color: rgba(255, 215, 0, 0.4);
            color: #FFD700;
        }
        .podium-first .prize-box:hover {
            background: rgba(255, 215, 0, 0.4);
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.4);
        }
        .podium-second .prize-box {
            background: rgba(192, 192, 192, 0.2);
            border-color: rgba(192, 192, 192, 0.4);
            color: #C0C0C0;
        }
        .podium-third .prize-box {
            background: rgba(205, 127, 50, 0.2);
            border-color: rgba(205, 127, 50, 0.4);
            color: #CD7F32;
        }
        /* Money Bag Icon */
        .money-bag {
            font-size: 24px;
            animation: coinFlip 3s infinite;
        }
        .podium-first .money-bag {
            animation: coinFlipGold 2s infinite;
        }
        .prize-amount {
            font-size: clamp(18px, 5vw, 22px);
            font-weight: 800;
        }
        /* Leaderboard Table */
        .leaderboard-section {
            margin: 60px 0;
            padding: 20px;
            background: rgba(18, 18, 31, 0.5);
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            width: 100%;
            box-sizing: border-box;
            overflow: hidden;
        }
        body.light-theme .leaderboard-section {
            background: rgba(255, 255, 255, 0.5);
        }
     
        .leaderboard-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 30px;
            text-align: center;
            color: var(--theme-primary);
            text-shadow: 0 2px 10px var(--theme-primary-glow);
        }
        .leaderboard-title .prize-tooltip {
            font-size: 16px;
            margin-left: 10px;
            cursor: help;
        }
     
        .last-updated {
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            margin-bottom: 15px;
        }
        body.light-theme .last-updated {
            color: rgba(0, 0, 0, 0.7);
        }
     
        .verification-badge {
            text-align: center;
            color: var(--theme-accent);
            font-size: 14px;
            margin-bottom: 20px;
        }
     
        .stats-panel {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
            text-align: center;
        }
        .stats-panel div {
            background: rgba(168, 85, 247, 0.1);
            padding: 15px;
            border-radius: 8px;
        }
     
        .leaderboard-table {
            width: 100%;
            background: rgba(18, 18, 31, 0.8);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid rgba(168, 85, 247, 0.2);
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        body.light-theme .leaderboard-table {
            background: rgba(255, 255, 255, 0.8);
            border-color: rgba(168, 85, 247, 0.1);
        }
     
        .table-header {
            display: grid;
            grid-template-columns: 80px 1fr 1fr 1fr;
            background: rgba(168, 85, 247, 0.1);
            padding: 15px 20px;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: rgba(255, 255, 255, 0.7);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            min-width: 600px;
        }
        body.light-theme .table-header {
            color: rgba(0, 0, 0, 0.7);
            border-bottom-color: rgba(0, 0, 0, 0.1);
        }
     
        .table-row {
            display: grid;
            grid-template-columns: 80px 1fr 1fr 1fr;
            padding: 12px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            align-items: center;
            transition: background 0.3s ease;
            min-width: 600px;
        }
        .table-row:hover {
            background: rgba(168, 85, 247, 0.1);
        }
        .table-row.highlighted {
            background: rgba(168, 85, 247, 0.25) !important;
            border-left: 3px solid var(--theme-primary);
        }
     
        .table-row:last-child {
            border-bottom: none;
        }
     
        .table-rank {
            font-weight: 700;
            font-size: 16px;
            color: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        body.light-theme .table-rank {
            color: rgba(0, 0, 0, 0.9);
        }
        .rank-icon {
            font-size: 20px;
        }
     
        .table-player {
            font-weight: 600;
            color: white;
            font-size: 15px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            cursor: pointer;
        }
        body.light-theme .table-player {
            color: black;
        }
        .copy-btn {
            margin-left: 10px;
            color: grey;
            cursor: pointer;
            
        }
     
        .table-wagered, .table-prize {
            font-weight: 500;
            color: white;
            font-size: 15px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        body.light-theme .table-wagered, body.light-theme .table-prize {
            color: black;
        }
     
        .table-prize {
            color: var(--theme-primary);
            font-weight: 700;
        }
        /* CTA Section */
        .cta-section {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: rgba(168, 85, 247, 0.05);
            border-radius: 16px;
        }
        .cta-section h2 {
            margin-bottom: 15px;
        }
        /* How It Works Section */
        .how-it-works-section {
            margin: 60px 0;
            padding: 40px 20px;
            background: linear-gradient(to bottom, rgba(168, 85, 247, 0.05), transparent);
            border-radius: 16px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }
        .how-it-works-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 40px;
            color: var(--theme-primary);
            text-shadow: 0 2px 10px var(--theme-primary-glow);
        }
        .steps-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            max-width: 1000px;
            margin: 0 auto;
        }
        .step-item {
            background: rgba(18, 18, 31, 0.6);
            border-radius: 16px;
            padding: 30px 20px;
            border: 1px solid rgba(168, 85, 247, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        body.light-theme .step-item {
            background: rgba(255, 255, 255, 0.6);
        }
        .step-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(168, 85, 247, 0.2);
        }
        .step-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--theme-primary), var(--theme-accent));
        }
        .step-number {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--theme-primary), var(--theme-primary-dark));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            margin: 0 auto 20px;
            box-shadow: 0 5px 15px var(--theme-primary-glow);
            transition: transform 0.3s ease;
        }
        .step-item:hover .step-number {
            transform: rotate(360deg);
        }
        .step-description {
            color: rgba(255, 255, 255, 0.9);
            font-size: 16px;
            line-height: 1.6;
        }
        body.light-theme .step-description {
            color: rgba(0, 0, 0, 0.9);
        }
        /* FAQ Section */
        .faq-section {
            margin: 60px 0;
            padding: 40px 20px;
            background: linear-gradient(to bottom, rgba(168, 85, 247, 0.05), transparent);
            border-radius: 16px;
            text-align: left;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }
        .faq-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 40px;
            color: var(--theme-primary);
            text-shadow: 0 2px 10px var(--theme-primary-glow);
            text-align: center;
        }
        .faq-item {
            margin-bottom: 20px;
        }
        .faq-item h3 {
            font-size: 20px;
            margin-bottom: 10px;
        }
        .faq-item p {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
        }
        body.light-theme .faq-item p {
            color: rgba(0, 0, 0, 0.9);
        }
        /* Search Area */
        .search-section {
            margin: 60px 0;
            text-align: center;
            background: linear-gradient(to top, rgba(168, 85, 247, 0.05), transparent);
            padding: 40px 20px;
            border-radius: 16px;
            width: 100%;
            box-sizing: border-box;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            position: sticky;
            top: 60px;
            z-index: 99;
        }
     
        .search-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--theme-accent);
        }
     
        .search-description {
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 30px;
            font-size: 16px;
            line-height: 1.5;
        }
        body.light-theme .search-description {
            color: rgba(0, 0, 0, 0.7);
        }
     
        .search-form {
            max-width: 500px;
            margin: 0 auto;
            display: flex;
            gap: 10px;
            width: 100%;
        }
     
        .search-input {
            flex: 1;
            padding: 14px 20px;
            background: rgba(18, 18, 31, 0.8);
            border: 2px solid rgba(168, 85, 247, 0.3);
            border-radius: 10px;
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        body.light-theme .search-input {
            background: rgba(255, 255, 255, 0.8);
            color: black;
        }
     
        .search-input:focus {
            outline: none;
            border-color: var(--theme-primary);
            box-shadow: 0 0 20px var(--theme-primary-glow);
        }
     
        .search-button {
            padding: 14px 30px;
            background: linear-gradient(180deg, var(--theme-primary) 0%, var(--theme-primary-dark) 100%);
            border: none;
            border-radius: 10px;
            color: white;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            min-width: 100px;
        }
     
        .search-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px var(--theme-primary-glow);
        }
        .search-info {
            margin-top: 20px;
            padding: 15px;
            background: rgba(168, 85, 247, 0.1);
            border-radius: 10px;
            display: none;
            text-align: left;
        }
        .search-info.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        .search-result-count {
            color: var(--theme-primary);
            font-weight: 700;
            margin-bottom: 8px;
            font-size: 16px;
        }
        .search-help {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.4;
        }
        body.light-theme .search-help {
            color: rgba(0, 0, 0, 0.7);
        }
        .progress-info {
            margin-top: 10px;
            color: var(--theme-accent);
        }
        /* Loading */
        .loading {
            text-align: center;
            padding: 40px;
            font-size: 18px;
            color: var(--theme-primary);
            display: none;
        }
        .loading-spinner {
            border: 4px solid rgba(168, 85, 247, 0.3);
            border-radius: 50%;
            border-top: 4px solid var(--theme-primary);
            width: 50px;
            height: 50px;
            animation: spin 1.2s linear infinite;
            margin: 0 auto 20px;
        }
        .skeleton {
            background: linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%);
            background-size: 200% 100%;
            animation: skeleton 1.5s infinite linear;
        }
        @keyframes skeleton {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        .skeleton-cell {
            height: 20px;
            border-radius: 4px;
        }
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background: rgba(0,0,0,0.8);
        }
        .modal-content {
            background: var(--theme-bg-slate-light);
            margin: 15% auto;
            padding: 20px;
            border: 1px solid var(--theme-primary);
            width: 80%;
            max-width: 500px;
            border-radius: 16px;
        }
        .close {
            cursor: pointer;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        /* Footer */
        footer {
            background: rgba(18, 18, 31, 0.95);
            border-top: 1px solid rgba(168, 85, 247, 0.2);
            padding: 40px 0 0 0;
            margin-top: auto;
            width: 100%;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.2);
        }
        body.light-theme footer {
            background: rgba(255, 255, 255, 0.95);
            border-top-color: rgba(168, 85, 247, 0.1);
        }
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            box-sizing: border-box;
        }
     
        .footer-section {
            width: 100%;
        }
     
        .footer-section h4 {
            font-size: 20px;
            margin-bottom: 20px;
            color: white;
        }
        body.light-theme .footer-section h4 {
            color: black;
        }
     
        .footer-section p {
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.6;
            margin-bottom: 15px;
            font-size: 14px;
        }
        body.light-theme .footer-section p {
            color: rgba(0, 0, 0, 0.7);
        }
     
        .footer-links {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }
     
        .footer-link {
            color: var(--theme-primary);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
            font-size: 14px;
        }
     
        .footer-link:hover {
            color: var(--theme-accent);
            text-decoration: underline;
        }
     
        .copyright {
            text-align: center;
            color: rgba(255, 255, 255, 0.5);
            font-size: 14px;
            margin-top: 40px;
            padding: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            width: 100%;
            box-sizing: border-box;
        }
        body.light-theme .copyright {
            color: rgba(0, 0, 0, 0.5);
            border-top-color: rgba(0, 0, 0, 0.1);
        }
        /* Animations */
        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-15px);
            }
        }
        @keyframes badgePulse {
            0% {
                transform: translateX(-50%) scale(1);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            }
            100% {
                transform: translateX(-50%) scale(1.1);
                box-shadow: 0 5px 25px rgba(168, 85, 247, 0.7);
            }
        }
        @keyframes badgePulseGold {
            0% {
                transform: translateX(-50%) scale(1);
                box-shadow: 0 5px 20px rgba(255, 215, 0, 0.5);
            }
            100% {
                transform: translateX(-50%) scale(1.15);
                box-shadow: 0 5px 30px rgba(255, 215, 0, 0.8);
            }
        }
        @keyframes coinFlip {
            0%, 100% {
                transform: rotateY(0deg);
            }
            50% {
                transform: rotateY(180deg);
            }
        }
        @keyframes coinFlipGold {
            0%, 100% {
                transform: rotateY(0deg) scale(1);
            }
            50% {
                transform: rotateY(180deg) scale(1.2);
            }
        }
        @keyframes slideGlow {
            0% {
                transform: translateX(-100%);
            }
            100% {
                transform: translateX(100%);
            }
        }
        @keyframes twinkle {
            0%, 100% {
                opacity: 0.1;
            }
            50% {
                opacity: 0.18;
            }
        }
        @keyframes pulse {
            0% {
                opacity: 0.6;
            }
            100% {
                opacity: 1;
            }
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Additional CSS for better UI */
        a {
            color: var(--theme-primary);
            text-decoration: none;
            transition: color 0.3s ease;
        }
        a:hover {
            color: var(--theme-accent);
            text-decoration: underline;
        }
        button {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        input, button {
            border-radius: 8px;
        }
        /* Responsive Design */
        @media (min-width: 1024px) {
            .podium-container {
                min-height: 450px;
            }
          
            .podium-item {
                flex: 0 1 300px;
                max-width: 300px;
                min-height: 450px;
            }
        }
        @media (max-width: 1023px) {
            .podium-container {
                flex-direction: row;
                flex-wrap: wrap;
                gap: 30px;
                min-height: auto;
                align-items: flex-end;
            }
          
            .podium-item {
                flex: 0 1 calc(33.333% - 20px);
                max-width: calc(33.333% - 20px);
                min-height: 400px;
            }
          
            .podium-platform {
                height: 40px !important;
            }
          
            .podium-first .podium-platform {
                height: 80px !important;
            }
          
            .podium-second .podium-platform {
                height: 50px !important;
            }
          
            .podium-third .podium-platform {
                height: 30px !important;
            }
          
            .footer-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }
        }
        @media (max-width: 768px) {
            .nav-menu {
                display: none !important;
                position: fixed;
                top: 60px;
                left: 0;
                right: 0;
                background: var(--theme-bg-slate-light);
                flex-direction: column;
                padding: 20px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                border-radius: 0 0 16px 16px;
                z-index: 999;
            }
            .nav-menu.active {
                display: flex !important;
            }
            .hamburger {
                display: flex;
            }
            .nav-btn {
                width: 100%;
                justify-content: center;
            }
            .main-title {
                font-size: 28px;
            }
            .podium-container {
                flex-direction: column;
                align-items: center;
                gap: 40px;
            }
          
            .podium-item {
                flex: 0 1 100%;
                max-width: 350px;
                min-height: 350px;
            }
          
            .podium-second { order: 2; }
            .podium-first { order: 1; }
            .podium-third { order: 3; }
          
            .podium-card {
                padding: 45px 100px;
                min-height: 350px;
            }
          
            .prize-amount {
                font-size: 20px;
            }
          
            .leaderboard-section {
                padding: 15px;
                margin: 40px 0;
            }
          
            .leaderboard-title {
                font-size: 24px;
            }
          
            .search-section {
                padding: 30px 15px;
                margin: 40px 0;
            }
          
            .search-title {
                font-size: 22px;
            }
          
            .search-form {
                flex-direction: column;
            }
          
            .search-button {
                width: 100%;
            }
          
            .how-it-works-section {
                margin: 40px 0;
                padding: 30px 15px;
            }
          
            .how-it-works-title {
                font-size: 24px;
                margin-bottom: 30px;
            }
          
            .steps-container {
                gap: 20px;
            }
          
            .step-item {
                padding: 25px 15px;
            }
        }
        @media (max-width: 480px) {
            .container {
                padding: 0 12px;
            }
          
            .main-title {
                font-size: 24px;
                margin-bottom: 20px;
            }
          
            .countdown-number {
                font-size: 22px;
            }
          
            .countdown-item {
                min-width: 55px;
                padding: 10px;
            }
          
            .podium-item {
                min-height: 320px;
                max-width: 100%;
            }
          
            .podium-card {
                padding: 55px 90px;
                min-height: 400px;
            }
          
            .rank-badge {
                width: 40px;
                height: 40px;
                font-size: 18px;
                top: -20px;
            }
          
            .podium-first .rank-badge {
                width: 50px;
                height: 50px;
                font-size: 22px;
                top: -25px;
            }
          
            .wagered-label {
                font-size: 11px;
                letter-spacing: 1px;
            }
          
            .wagered-amount {
                margin-bottom: 15px;
                font-size: 20px;
            }
          
            .prize-box {
                padding: 12px;
            }
          
            .money-bag {
                font-size: 20px;
            }
          
            .prize-amount {
                font-size: 18px;
            }
          
            .table-header {
                grid-template-columns: 60px 1fr 1fr 1fr;
                padding: 12px 15px;
                font-size: 11px;
                min-width: 400px;
            }
          
            .table-row {
                grid-template-columns: 60px 1fr 1fr 1fr;
                padding: 10px 15px;
                min-width: 400px;
            }
          
            .copyright {
                font-size: 12px;
                padding: 15px;
            }
          
            .step-item {
                padding: 20px 15px;
            }
          
            .step-number {
                width: 40px;
                height: 40px;
                font-size: 20px;
            }
          
            .step-description {
                font-size: 14px;
            }
        }
        @media (max-width: 360px) {
            .main-title {
                font-size: 22px;
            }
          
            .countdown-number {
                font-size: 20px;
            }
          
            .countdown-item {
                min-width: 50px;
                padding: 8px;
            }
          
            .podium-item {
                min-height: 300px;
            }
          
            .player-name {
                font-size: 18px;
            }
          
            .wagered-amount {
                font-size: 18px;
            }
          
            .prize-box {
                padding: 10px;
            }
          
            .prize-amount {
                font-size: 16px;
            }
        }


        @media (max-width:768px){
    body::before,
    body::after{
        animation:none;
    }
}
@media (max-width:768px){
    .podium-card{
        animation:none;
    }
}
@media (max-width:768px){
    *{
        box-shadow: 0 2px 8px rgba(0,0,0,0.25) !important;
    }
}



@media (max-width: 480px) {
    .table-header div:nth-child(4),
    .table-row div:nth-child(4){
        transform: translateX(20px);
    }
}

      
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="container nav-container">
            <div class="nav-left">
                <div class="platform-selector">
                    <div class="platform-logo"></div>
                    <span class="platform-name">Waki</span>
                </div>
            </div>
            <button class="hamburger" id="hamburger" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <div class="nav-menu" id="nav-menu">
                <a href="#" class="nav-btn btn-primary">Packdraw</a>
                <a href="https://waki-rewards.site/" class="nav-btn btn-secondary">Menace</a>
                <a href="https://discord.gg/XMBvGfF3PB" class="nav-btn btn-secondary">Help</a>
                <!-- <a href="#" class="nav-btn btn-secondary" id="auto-refresh-btn">Auto-refresh <span id="auto-refresh-status">Off</span></a> -->
                <!-- <a href="#" class="nav-btn btn-secondary" id="theme-toggle-btn">Theme <span id="theme-status">Dark</span></a> -->
            </div>
        </div>
    </nav>
  
    <!-- Main Content -->
    <main>
        <div class="container">
            <!-- Countdown Section -->
            <section class="countdown-section">
                <div class="countdown-container">
                    <div class="countdown-item">
                        <div class="countdown-number" id="days">0</div>
                        <div class="countdown-label">DAYS</div>
                    </div>
                    <div class="countdown-item">
                        <div class="countdown-number" id="hours">0</div>
                        <div class="countdown-label">HRS</div>
                    </div>
                    <div class="countdown-item">
                        <div class="countdown-number" id="minutes">0</div>
                        <div class="countdown-label">MINS</div>
                    </div>
                    <div class="countdown-item">
                        <div class="countdown-number" id="seconds">0</div>
                        <div class="countdown-label">SECS</div>
                    </div>
                </div>
                <h1 class="main-title">JOIN THE <span>$2,000</span> LEADERBOARD!</h1>
            </section>
          
            <!-- Fixed Podium Section -->
            <section class="podium-section">
                <div class="podium-container" id="podium-container">
                    <!-- Podium will be populated by JavaScript -->
                    <div class="loading" id="podium-loading">
                        <div class="loading-spinner"></div>
                        Loading podium...
                    </div>
                </div>
            </section>
           
           
          
            <!-- Leaderboard Table -->
            <section class="leaderboard-section">
                <h2 class="leaderboard-title">LEADERBOARD <i class="fas fa-info-circle prize-tooltip" title="Prize structure: 1st $600, 2nd $400, 3rd $250, 4th $180, 5th $150, 6th $120, 7th $100, 8th $80, 9th $70, 10th $50"></i></h2>
                <!-- <div class="verification-badge"><i class="fas fa-check-circle"></i> Data verified from Packdraw API</div> -->
                <div id="last-updated" class="last-updated">Last updated: <span></span></div>
                <div class="stats-panel">
                    <div>Total Wagered: $ <span id="total-wagered">0</span></div>
                    <div>Average Wager: $ <span id="avg-wager">0</span></div>
                    <div>Total Participants: <span id="total-participants">0</span></div>
                </div>
                <div class="leaderboard-table">
                    <div class="table-header">
                        <div>Rank</div>
                        <div>Username</div>
                        <div>Total Wagered</div>
                        <div>Prize</div>
                    </div>
                    <div id="leaderboard-rows">
                        <!-- Skeleton or rows -->
                    </div>
                </div>
            </section>
                        <!-- Search Section -->
            <section class="search-section">
                <h2 class="search-title">FIND YOUR RANKING</h2>
                <p class="search-description">Enter your username or any letter to filter the leaderboard in real-time</p>
                <form class="search-form" id="search-form">
                    <input type="text"
                           placeholder="Type username or letter..."
                           class="search-input"
                           id="search-input"
                           autocomplete="off">
                    <button type="button" class="search-button" id="clear-search">Clear</button>
                </form>
                <div class="search-info" id="search-info">
                    <div class="search-result-count">Showing <span id="result-count">0</span> results</div>
                    <div class="search-help">Matching rows are highlighted in purple. Click clear to reset.</div>
                    <div id="progress-info" class="progress-info"></div>
                </div>
            </section>
            <!-- CTA Section -->
            <section class="cta-section">
                <h2>Start wagering now!</h2>
                <a href="https://packdraw.com/?ref=Waki\" class="nav-btn btn-primary">Join PackDraw</a>
            </section>
          
            <!-- How It Works Section -->
            <section class="how-it-works-section">
                <h2 class="how-it-works-title">HOW IT WORKS</h2>
                <div class="steps-container">
                    <div class="step-item">
                        <div class="step-number">1</div>
                        <div class="step-description">Sign up on Packdraw and start wagering on your favorite games</div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">2</div>
                        <div class="step-description">Your total wagered amount determines your rank on the leaderboard</div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">3</div>
                        <div class="step-description">Reach top positions to win cash prizes up to $600!</div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">4</div>
                        <div class="step-description">Check your ranking regularly and wager more to improve your position</div>
                    </div>
                </div>
            </section>
           
            <!-- FAQ Section -->
            <section class="faq-section">
                <h2 class="faq-title">FAQ</h2>
                <div class="faq-item">
                    <h3>How do rankings update?</h3>
                    <p>Rankings are updated every hour based on the latest wagering data from Packdraw.</p>
                </div>
                <div class="faq-item">
                    <h3>When are prizes paid?</h3>
                    <p>Prizes are distributed at the end of the leaderboard period, within 48 hours.</p>
                </div>
                <div class="faq-item">
                    <h3>What happens in case of ties?</h3>
                    <p>In case of ties, prizes are shared equally among tied players.</p>
                </div>
            </section>
          
        </div>
    </main>
  
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Disclaimer</h4>
                    <p>The bonuses and deals listed on our platform are subject to change at any time. We encourage all players to read the complete terms and conditions and verify the offer directly with the casino or betting operator before participating.</p>
                    <p>Only for new users over 18 years of age. Please play responsibly.</p>
                </div>
                <div class="footer-section">
                    <h4>Responsible Gambling</h4>
                    <p>We cannot be held liable for any losses that occur on casino sites accessed through our bonus links. Players are solely responsible for deciding how much they can safely afford to wager. Never gamble with funds you cannot afford to lose.</p>
                    <div class="footer-links">
                        <a href="#" class="footer-link">Terms of Service</a>
                        <a href="#" class="footer-link">Privacy Policy</a>
                        <a href="https://discord.gg/XMBvGfF3PB" class="footer-link">Contact Us</a>
                        <a href="https://discord.gg/XMBvGfF3PB" class="footer-link">Support</a>
                    </div>
                </div>
            </div>
            <div class="copyright">
                 2025 Waki. All rights reserved. This site is intended for users 18+ only.
            </div>
        </div>
    </footer>
   
    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>User Profile</h2>
            <div id="profile-info"></div>
        </div>
    </div>
   
   <script>
/* ================= GOOGLE SHEET CONFIG ================= */
const SHEET_CSV_URL = "https://packdraw.akashbhowmik110.workers.dev/";
/* ================= PRIZE STRUCTURE ================= */
const prizeStructure = {
    1:{emoji:"",amount:"$1000",icon:""},
    2:{emoji:"",amount:"$500",icon:""},
    3:{emoji:"",amount:"$250",icon:""},
    4:{emoji:"4",amount:"$125",icon:""},
    5:{emoji:"5",amount:"$75",icon:""},
    6:{emoji:"6",amount:"$50",icon:""},
      7:{emoji:"7",amount:"$0",icon:""},
    8:{emoji:"8",amount:"$0",icon:""},
    9:{emoji:"9",amount:"$0",icon:""},
    10:{emoji:"10",amount:"$0",icon:""},
};
function getPrizeForRank(rank){
    if(rank<=10) return prizeStructure[rank];
    return {emoji:rank,amount:"$0",icon:""};
}
/* ================= GLOBAL DATA ================= */
let leaderboardData=[];
let filteredData=[];
let currentSearchTerm='';
let lastUpdated=new Date();
let totalParticipants = 0;
let autoRefreshInterval = null;
/* ================= CSV PARSER ================= */
function parseLine(line){
    const values=[];
    let value='';
    let inQuote=false;
    for(let char of line){
        if(char==='"') inQuote=!inQuote;
        else if(char===',' && !inQuote){ values.push(value.trim()); value=''; }
        else value+=char;
    }
    values.push(value.trim());
    return values;
}
function parseCSVToLeaderboard(csvText){
    const lines = csvText.trim().split("\n");
    /* Read total participants from column E (E1) */
    const firstRow = parseLine(lines[0]);
    totalParticipants = 0;

   const rows = lines.slice(1).filter(l => l.trim() !== "");

    let data = rows.map(line=>{
        const fields=parseLine(line);
       const name = fields[2] || "Unknown";        // user_name
const wagered = parseFloat(
    (fields[3] || "0").replace(/[$,]/g, '')
) || 0;

const rank = parseInt(fields[4]) || 0;      // rank

        if(name.trim()==='') return null;
        return {name,wagered,rank};
    }).filter(Boolean);
    const hasRanks=data.some(p=>p.rank>0);
    if(!hasRanks){
        data.sort((a,b)=>b.wagered-a.wagered);
        data.forEach((p,i)=>p.rank=i+1);
    }else{
        data.sort((a,b)=>a.rank-b.rank);
    }
    return data;
}
/* ================= LOAD DATA ================= */
async function initializeData(){
    document.getElementById('podium-loading').style.display = 'block';
    addSkeletonRows();
    const res = await fetch(SHEET_CSV_URL);
    const csv = await res.text();
    leaderboardData = parseCSVToLeaderboard(csv);
    filteredData=[...leaderboardData];
    updateLastUpdated();
    renderAll();
    document.getElementById('podium-loading').style.display = 'none';
}
/* ================= PODIUM ================= */
function createPodiumHTML(){
    const container=document.getElementById('podium-container');
    container.innerHTML='';
    const podiumOrder=[2,1,3];
    podiumOrder.forEach(rank=>{
        const player = leaderboardData.find(p=>p.rank===rank) ||
        {name:"Unknown",wagered:0,rank};
        const prize=getPrizeForRank(rank);
        const el=document.createElement('div');
        el.className=`podium-item podium-${rank===1?'first':rank===2?'second':'third'}`;
        el.innerHTML=`
        <div class="podium-card">
            <div class="rank-badge">${rank}</div>
            <div class="player-name">${player.name}</div>
            <div class="wagered-label">TOTAL WAGERED</div>
            <div class="wagered-amount">$${player.wagered.toLocaleString()}</div>
            <div class="prize-box">
                <span class="money-bag">${prize.icon}</span>
                <span class="prize-amount">${prize.amount}</span>
            </div>
        </div>
        <div class="podium-platform"><div class="podium-platform-content"></div></div>
        `;
        container.appendChild(el);
    });
}
/* ================= FILTER ================= */
function filterLeaderboard(term){
    currentSearchTerm=term.toLowerCase().trim();
    if(!currentSearchTerm) filteredData=[...leaderboardData];
    else filteredData=leaderboardData.filter(p=>p.name.toLowerCase().includes(currentSearchTerm));
    renderAll();
    const searchInfo = document.getElementById('search-info');
    const resultCount = document.getElementById('result-count');
    if (currentSearchTerm) {
        searchInfo.classList.add('active');
        resultCount.textContent = filteredData.length;
    } else {
        searchInfo.classList.remove('active');
    }
}
function populateLeaderboardTable(){
    const container=document.getElementById('leaderboard-rows');
    container.innerHTML='';

    // Remove podium ranks (13)
    let displayData = filteredData
        .filter(player => player.rank > 3)
        .slice(0, 17);

    // If less than 20 rows, continue rank numbering AFTER last visible rank
    if(displayData.length < 20){
        let nextRank = displayData.length
            ? displayData[displayData.length - 1].rank + 1
            : 4; // start from rank 4

        const missing = 17 - displayData.length;
        for(let i=0;i<missing;i++){
            displayData.push({name:"Unknown",wagered:0,rank:nextRank++});
        }
    }

    displayData.forEach(player=>{
        const prize=getPrizeForRank(player.rank);
        const row=document.createElement('div');
        row.className='table-row';
        if (currentSearchTerm && player.name.toLowerCase().includes(currentSearchTerm)) {
            row.classList.add('highlighted');
        }
        row.innerHTML=`
        <div class="table-rank">${player.rank}</div>
        <div class="table-player">${player.name} </div>
        <div class="table-wagered">$${player.wagered.toLocaleString()}</div>
        <div class="table-prize">${prize.amount}</div>
        `;
        const playerCell = row.querySelector('.table-player');
        playerCell.addEventListener('click', () => showProfile(player));
        container.appendChild(row);
    });
}

/* ================= STATS ================= */
function updateStats(){
    const totalW=leaderboardData.reduce((sum,p)=>sum+p.wagered,0);
    document.getElementById('total-wagered').textContent=totalW.toLocaleString();
    document.getElementById('avg-wager').textContent=(totalW/leaderboardData.length||0).toFixed(2);
    /* USE SHEET VALUE */
    document.getElementById('total-participants').textContent =
        totalParticipants || leaderboardData.length;
}
/* ================= LAST UPDATED ================= */
function updateLastUpdated(){
    lastUpdated=new Date();
    updateLastUpdatedTime();
}
function updateLastUpdatedTime() {
    const now = new Date();
    const diff = now - lastUpdated;
    const minutes = Math.floor(diff / (1000*60));
    const hours = Math.floor(minutes / 60);
    const days = Math.floor(hours / 24);
    let text = 'just now';
    if (days > 0) text = `${days} days ago`;
    else if (hours > 0) text = `${hours} hours ago`;
    else if (minutes > 0) text = `${minutes} minutes ago`;
    document.querySelector('#last-updated span').textContent = text;
}
/* ================= COUNTDOWN ================= */
function updateCountdown() {
    const endDate = new Date('2026-03-19T22:00:00+05:30');

 // February 28, 2026, 11:59:59 PM IST
    const now = new Date();
    const diff = endDate - now;
    let days = 0, hours = 0, minutes = 0, seconds = 0;
    if (diff > 0) {
        days = Math.floor(diff / (1000 * 60 * 60 * 24));
        hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        seconds = Math.floor((diff % (1000 * 60)) / 1000);
    }
    document.getElementById('days').textContent = days;
    document.getElementById('hours').textContent = hours;
    document.getElementById('minutes').textContent = minutes;
    document.getElementById('seconds').textContent = seconds;
}
/* ================= SKELETON ================= */
function addSkeletonRows() {
    const container = document.getElementById('leaderboard-rows');
    container.innerHTML = '';
    for (let i = 0; i < 10; i++) {
        const row = document.createElement('div');
        row.className = 'table-row skeleton';
        row.innerHTML = `
            <div class="table-rank skeleton-cell"></div>
            <div class="table-player skeleton-cell"></div>
            <div class="table-wagered skeleton-cell"></div>
            <div class="table-prize skeleton-cell"></div>
        `;
        container.appendChild(row);
    }
}
/* ================= PROFILE MODAL ================= */
function showProfile(player) {
    const modal = document.getElementById('modal');
    const profileInfo = document.getElementById('profile-info');
    profileInfo.innerHTML = `
        <p>Username: ${player.name}</p>
        <p>Rank: ${player.rank}</p>
        <p>Total Wagered: $${player.wagered.toLocaleString()}</p>
    `;
    modal.style.display = 'block';
}
/* ================= COPY ================= */
function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(() => {
        alert('Copied to clipboard!');
    }).catch(err => {
        console.error('Failed to copy: ', err);
    });
}
/* ================= RENDER ================= */
function renderAll(){
    createPodiumHTML();
    populateLeaderboardTable();
    updateStats();
}
/* ================= INIT ================= */
document.addEventListener('DOMContentLoaded',()=>{
    initializeData();
    updateCountdown();
    setInterval(updateCountdown, 1000);
    setInterval(updateLastUpdatedTime, 60000);

    // Hamburger menu
    const hamburger = document.getElementById('hamburger');
    const navMenu = document.getElementById('nav-menu');
    hamburger.addEventListener('click', () => {
        hamburger.classList.toggle('active');
        navMenu.classList.toggle('active');
    });

    // Theme toggle
    const themeToggle = document.getElementById('theme-toggle-btn');
    const themeStatus = document.getElementById('theme-status');
    themeToggle.addEventListener('click', (e) => {
        e.preventDefault();
        document.body.classList.toggle('light-theme');
        themeStatus.textContent = document.body.classList.contains('light-theme') ? 'Light' : 'Dark';
    });

    // Auto-refresh
    const autoRefreshBtn = document.getElementById('auto-refresh-btn');
    const autoRefreshStatus = document.getElementById('auto-refresh-status');
    autoRefreshBtn.addEventListener('click', (e) => {
        e.preventDefault();
        if (autoRefreshInterval) {
            clearInterval(autoRefreshInterval);
            autoRefreshInterval = null;
            autoRefreshStatus.textContent = 'Off';
        } else {
            autoRefreshInterval = setInterval(initializeData, 120000); // every 2 minutes
            autoRefreshStatus.textContent = 'On';
        }
    });

    // Search input
    const searchInput = document.getElementById('search-input');
    searchInput.addEventListener('input', e => {
        filterLeaderboard(e.target.value);
        const clearSearch = document.getElementById('clear-search');
        clearSearch.style.display = e.target.value ? 'block' : 'none';
    });

    // Clear search
    const clearSearch = document.getElementById('clear-search');
    clearSearch.addEventListener('click', () => {
        searchInput.value = '';
        filterLeaderboard('');
        clearSearch.style.display = 'none';
    });

    // Modal close
    const close = document.querySelector('.close');
    close.addEventListener('click', () => {
        document.getElementById('modal').style.display = 'none';
    });
});
</script>
</body>
</html>
